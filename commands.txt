u1 = User.objects.create_user(username='Sam')
u2 = User.objects.create_user(username='Max')
Author.objects.create(authorUser=u1)
Author.objects.create(authorUser=u2)
Category.objects.create(name='IT')
Category.objects.create(name='Sport')
Category.objects.create(name='Celebrity')
Category.objects.create(name='Politics')
author1 = Author.objects.get(id=1)
Post.objects.create(author=author1, categoryType = 'AR', title = 'sometitle', text = 'sometext')
author2 = Author.objects.get(id=2)
Post.objects.create(author=author2, categoryType = 'AR', title = 'something title', text = 'something text')
author3 = Author.objects.get(id=1)
Post.objects.create(author=author3, categoryType = 'NW', title = 'title', text = 'text')
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=1))
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=4))
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=2))
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=3))
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=3))
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=4))
Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=Author.objects.get(id=2).authorUser, text='text')
Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=Author.objects.get(id=1).authorUser, text='+')
Comment.objects.create(commentPost=Post.objects.get(id=2), commentUser=Author.objects.get(id=1).authorUser, text='any text')
Comment.objects.create(commentPost=Post.objects.get(id=3), commentUser=Author.objects.get(id=2).authorUser, text='another text')
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=2).like()
Comment.objects.get(id=3).dislike()
Comment.objects.get(id=4).dislike()
Comment.objects.get(id=4).dislike()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=2).dislike()
Post.objects.get(id=3).like()
a1 = Author.objects.get(id=1)
a1.update_rating()
a2 = Author.objects.get(id=2)
a2.update_rating()
a = Author.objects.order_by('-ratingAuthor')[:1]
a
